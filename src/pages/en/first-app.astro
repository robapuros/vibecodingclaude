---
import ContentLayout from '../../layouts/ContentLayout.astro';
import CodeBlock from '../../components/CodeBlock.astro';
import { useTranslations } from '../../i18n/ui';

const lang = 'en';
const t = useTranslations(lang);

const structuredData = {
  '@context': 'https://schema.org',
  '@type': 'HowTo',
  name: 'Create your first app with vibe coding',
  description: t.firstApp.metaDescription,
  inLanguage: 'en',
  totalTime: 'PT30M',
  tool: [
    { '@type': 'HowToTool', name: 'Claude Code' },
    { '@type': 'HowToTool', name: 'Node.js' },
  ],
};

const prompt1 = `You are a senior frontend engineer and SEO specialist.

We are building a bilingual (Spanish + English) static website using Astro.

Domain: vibecodingclaude.com

Project goal: Create an educational website about "Vibe Coding with Claude",
focused primarily on Spanish-speaking users, but also available in English.

SEO goals:
- Spanish pages should rank for "vibe coding", "vibe coding con claude",
  and "programar con IA"
- English pages should target "vibe coding", "coding with Claude",
  and "AI-assisted programming"

Site structure:
- Root (/) → language selector
- /es/ → Spanish content
- /en/ → English content

Core use case: A beginner arrives, selects language, and follows a step-by-step
guide from zero knowledge to building their first simple app using Claude.

Technical constraints:
- Astro static site
- SEO-first (semantic HTML, fast load)
- No backend
- Clean, minimal design
- Markdown-friendly content

Pages per language:
- Landing page
- Main guide
- Tools & setup
- First app tutorial
- Prompts & tips

Output: Propose the full Astro project structure and implementation plan.`;

const prompt2 = `I want you to create the content for the webpage, from 0 to vibe coding,
with installation tips, explanation of different Claude plans, and for the
creation of the first project use this project - give the prompts needed
to recreate this project from 0.`;

const prompt3 = `Proceed with the implementation. Start with the project setup and core
components, then create all pages with full content.`;
---

<ContentLayout
  title={`${t.firstApp.title} | ${t.siteTitle}`}
  description={t.firstApp.metaDescription}
  lang={lang}
  currentPath="first-app"
  structuredData={structuredData}
>
  <h1>Your First App with Vibe Coding</h1>
  <p class="lead">{t.firstApp.description}</p>

  <div class="callout">
    <p><strong>META Project:</strong> The best way to learn vibe coding is by doing it. In this tutorial, we'll create <em>this very website</em> you're reading. That way you'll see exactly the prompts and process we used.</p>
  </div>

  <nav class="toc">
    <h2>Contents</h2>
    <ul>
      <li><a href="#introduction">Introduction</a></li>
      <li><a href="#preparation">Preparation</a></li>
      <li><a href="#prompt-1">Prompt 1: Project Definition</a></li>
      <li><a href="#prompt-2">Prompt 2: Content</a></li>
      <li><a href="#prompt-3">Prompt 3: Implementation</a></li>
      <li><a href="#iteration">Iteration and Refinement</a></li>
      <li><a href="#deploy">Deploy Your Website to the Internet</a></li>
      <li><a href="#learnings">What You'll Learn</a></li>
    </ul>
  </nav>

  <section id="introduction">
    <h2>Introduction</h2>

    <p>In this tutorial we're going to create a bilingual static website with Astro. It's not a trivial project - it has:</p>

    <ul>
      <li>Support for Spanish and English</li>
      <li>Complete SEO (meta tags, hreflang, structured data)</li>
      <li>Multiple pages with real content</li>
      <li>Responsive, clean design</li>
    </ul>

    <p>And we'll do it mainly with <strong>3 prompts</strong>. That's the magic of vibe coding.</p>
  </section>

  <section id="preparation">
    <h2>Preparation</h2>

    <p>Before starting, make sure you have:</p>

    <ol>
      <li><strong>Claude Code installed</strong> - If you don't have it, follow the <a href="/en/tools">installation guide</a></li>
      <li><strong>An empty folder</strong> for your project</li>
    </ol>

    <h3>Create the project folder</h3>

    <CodeBlock
      code={`mkdir vibecodingclaude
cd vibecodingclaude`}
      language="bash"
      filename="Terminal"
    />

    <h3>Start Claude Code</h3>

    <CodeBlock
      code="claude"
      language="bash"
      filename="Terminal"
    />

    <p>Now you're in the Claude Code interface, ready to send your first prompt.</p>
  </section>

  <section id="prompt-1">
    <h2>Prompt 1: Project Definition</h2>

    <p>This is the most important prompt. Here you define <em>everything</em> you want to build. Be specific.</p>

    <CodeBlock
      code={prompt1}
      language="text"
      filename="Prompt 1 - Copy and paste this"
    />

    <h3>Why does this prompt work?</h3>

    <ul>
      <li><strong>Clear role:</strong> "You are a senior frontend engineer and SEO specialist" establishes context</li>
      <li><strong>Specific goal:</strong> We describe exactly what we want to build</li>
      <li><strong>Technical constraints:</strong> Astro, static, no backend - Claude knows the limits</li>
      <li><strong>Defined structure:</strong> We list the pages we need</li>
      <li><strong>Expected output:</strong> We ask for a plan first, not code directly</li>
    </ul>

    <div class="callout callout-warning">
      <p><strong>Important:</strong> Claude will propose a plan. <strong>Read the complete plan</strong> before approving. If something doesn't convince you, ask for changes now.</p>
    </div>
  </section>

  <section id="prompt-2">
    <h2>Prompt 2: Content</h2>

    <p>Once the plan is approved, we ask for the actual page content:</p>

    <CodeBlock
      code={prompt2}
      language="text"
      filename="Prompt 2"
    />

    <h3>Why this separate prompt?</h3>

    <p>Dividing into steps has advantages:</p>

    <ul>
      <li>You can review the content before implementing</li>
      <li>It's easier to ask for specific changes</li>
      <li>Claude maintains the project context</li>
    </ul>
  </section>

  <section id="prompt-3">
    <h2>Prompt 3: Implementation</h2>

    <p>Finally, we ask it to implement everything:</p>

    <CodeBlock
      code={prompt3}
      language="text"
      filename="Prompt 3"
    />

    <p>Claude will start creating the files. You'll see in your terminal how it creates each component, page, and style.</p>
  </section>

  <section id="iteration">
    <h2>Iteration and Refinement</h2>

    <p>It's normal that the first version isn't perfect. This is where vibe coding shines - you can ask for changes in natural language:</p>

    <h3>Examples of refinement prompts</h3>

    <CodeBlock
      code={`Change the primary color from blue to purple.`}
      language="text"
      filename="Refinement example"
    />

    <CodeBlock
      code={`Add a FAQ section at the end of the tools page.`}
      language="text"
      filename="Refinement example"
    />

    <CodeBlock
      code={`The mobile navigation button doesn't work. Can you check it?`}
      language="text"
      filename="Bug fix example"
    />

    <h3>Test locally</h3>

    <p>To see your site in the browser:</p>

    <CodeBlock
      code={`npm install
npm run dev`}
      language="bash"
      filename="Terminal"
    />

    <p>Open <code>http://localhost:4321</code> in your browser.</p>

    <div class="callout callout-warning">
      <p><strong>What is localhost?</strong> When you run <code>npm run dev</code>, your website opens at <code>localhost</code> - this means it's running <strong>only on your computer</strong>. It's a local address, visible only to you. Nobody else in the world can see your website on localhost. If you want other people to see your site, you need to <strong>publish it to the internet</strong> using a hosting service like Vercel or Cloudflare Pages.</p>
    </div>
  </section>

  <section id="deploy">
    <h2>Deploy Your Website to the Internet</h2>

    <p>Your website works on localhost, but now you want the world to see it. Let's publish it <strong>for free</strong> using GitHub + Vercel.</p>

    <h3>Step 1: Upload your code to GitHub</h3>

    <p>First you need an account on <a href="https://github.com" target="_blank" rel="noopener">github.com</a> (it's free). Then:</p>

    <ol>
      <li>Create a new repository on GitHub (click the "+" button → "New repository")</li>
      <li>Give it a name (for example, <code>my-vibe-coding-website</code>)</li>
      <li>Leave it public and <strong>don't</strong> add a README or .gitignore (you already have them)</li>
      <li>Click "Create repository"</li>
    </ol>

    <p>Now connect your local project to GitHub. In your terminal (outside Claude Code):</p>

    <CodeBlock
      code={`git init
git add .
git commit -m "My first vibe coded website"
git branch -M main
git remote add origin https://github.com/YOUR-USERNAME/my-vibe-coding-website.git
git push -u origin main`}
      language="bash"
      filename="Terminal"
    />

    <div class="callout">
      <p><strong>Tip:</strong> Replace <code>YOUR-USERNAME</code> with your GitHub username and <code>my-vibe-coding-website</code> with the name you gave your repository.</p>
    </div>

    <h3>Step 2: Connect to Vercel (free hosting)</h3>

    <ol>
      <li>Go to <a href="https://vercel.com" target="_blank" rel="noopener">vercel.com</a> and create a free account (you can use your GitHub account)</li>
      <li>Click <strong>"Add New Project"</strong></li>
      <li>Select <strong>"Import Git Repository"</strong> and choose the repository you just created</li>
      <li>Vercel will automatically detect that it's an Astro project</li>
      <li>Click <strong>"Deploy"</strong></li>
    </ol>

    <p>In less than a minute, Vercel will build your website and give you a public URL like:</p>

    <CodeBlock
      code="https://my-vibe-coding-website.vercel.app"
      language="text"
      filename="Your public URL"
    />

    <p><strong>You can share that URL with anyone in the world.</strong></p>

    <h3>Step 3: Custom domain (optional)</h3>

    <p>If you want your own domain (like <code>vibecodingclaude.com</code>), you can:</p>

    <ol>
      <li>Buy a domain from services like Namecheap, Google Domains, or Cloudflare</li>
      <li>In Vercel, go to Settings → Domains → Add</li>
      <li>Follow the instructions to configure DNS</li>
    </ol>

    <h3>Automatic updates</h3>

    <p>The best thing about Vercel + GitHub is that every time you <code>git push</code>, Vercel will automatically rebuild your website. The workflow is:</p>

    <ol>
      <li>Make changes with Claude Code</li>
      <li>Run <code>git add . && git commit -m "description" && git push</code></li>
      <li>Vercel detects the change and publishes the new version in seconds</li>
    </ol>

    <div class="callout">
      <p><strong>Alternative:</strong> If you prefer another platform, <a href="https://pages.cloudflare.com" target="_blank" rel="noopener">Cloudflare Pages</a> and <a href="https://www.netlify.com" target="_blank" rel="noopener">Netlify</a> also offer free hosting with the same GitHub workflow.</p>
    </div>
  </section>

  <section id="learnings">
    <h2>What You'll Learn</h2>

    <p>By completing this tutorial, you'll have learned:</p>

    <div class="learning-grid">
      <div class="learning-item">
        <h3>Structure clear prompts</h3>
        <p>How to give context, define goals, and specify technical constraints.</p>
      </div>

      <div class="learning-item">
        <h3>Iterate effectively</h3>
        <p>How to ask for specific changes without starting from scratch.</p>
      </div>

      <div class="learning-item">
        <h3>Review before approving</h3>
        <p>The importance of reading plans and not approving blindly.</p>
      </div>

      <div class="learning-item">
        <h3>Divide into steps</h3>
        <p>Why several small prompts are better than one giant one.</p>
      </div>
    </div>

    <div class="callout">
      <p><strong>Source code:</strong> Want to see the final result? All the code for this website is available on GitHub so you can review it, compare it with your version, or use it as a reference.</p>
      <p><a href="https://github.com/robapuros/vibecodingclaude" target="_blank" rel="noopener">github.com/robapuros/vibecodingclaude</a></p>
    </div>

    <div class="next-section">
      <a href="/en/prompts" class="btn btn-primary btn-large">
        Next: Prompts & Tips →
      </a>
    </div>
  </section>
</ContentLayout>

<style>
  .learning-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: var(--space-lg);
    margin: var(--space-xl) 0;
  }

  .learning-item {
    padding: var(--space-lg);
    background-color: var(--color-bg-secondary);
    border-radius: var(--radius-lg);
  }

  .learning-item h3 {
    margin-top: 0;
    font-size: 1.125rem;
    color: var(--color-primary);
  }

  .learning-item p {
    margin: 0;
    color: var(--color-text-muted);
  }

  .next-section {
    margin-top: var(--space-2xl);
    text-align: center;
  }
</style>
